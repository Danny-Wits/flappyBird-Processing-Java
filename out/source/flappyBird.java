/* autogenerated by Processing revision 1293 on 2024-10-21 */
import processing.core.*;
import processing.data.*;
import processing.event.*;
import processing.opengl.*;

import java.util.HashMap;
import java.util.ArrayList;
import java.io.File;
import java.io.BufferedReader;
import java.io.PrintWriter;
import java.io.InputStream;
import java.io.OutputStream;
import java.io.IOException;

public class flappyBird extends PApplet {

PImage backgroundImage; 
String fileLink = "assests/backgroundImage.png";
Bird bird ;
boolean started=false;
public void settings(){
   size(displayWidth-100,displayHeight-140);
}
public void setup() {
    bird = new Bird();
    backgroundImage=loadImage(fileLink);
    backgroundImage.resize(width,height);
}


public void draw() {
    background(backgroundImage);   
    if(!started){
        bird.show();
        textSize(70);
        fill(0);
        textAlign(CENTER);
        text("Press enter to start/resume/pause/restart",width/2, height/2);
        return;
    }
    bird.physics();
    bird.show();

    if (keyPressed==true) {
       if(key==' '){
        bird.flap();
       }
    }
    if(bird.endGame()){
        textSize(70);
        fill(255,0,0);
        textAlign(CENTER,CENTER);
        text("GAME OVER ",width/2,height/2 );
        bird = new Bird();
        started =false;
    }
}
public void keyPressed() {
       
       if (keyCode == ENTER) {
            started=!started;
        }
}
public class Bird  {
    public float position = height/2;
    public float positionX=150;
    public float flapStrength=15;
    private float defaultGravity=2;
    public float gravityStrength =defaultGravity;
    public PImage sprite = loadImage("assests/bird.png");
    public float size = 128;
    public void flap(){
        position-=flapStrength;
        gravityStrength=defaultGravity;
    }
    public void physics(){
        position+=gravityStrength;
        gravityStrength+=0.2f;
    }
    public void show(){
        image(sprite, positionX, position, size, size);
    }
    public boolean endGame(){
        return outOfBound()||collisionCheck();
    }
    public boolean outOfBound(){
        if(position+size>=height) return true;
        if(position<=0 ) return true;
        return false;
    }
    public boolean collisionCheck(){
        return false;
    }
    

}


  static public void main(String[] passedArgs) {
    String[] appletArgs = new String[] { "flappyBird" };
    if (passedArgs != null) {
      PApplet.main(concat(appletArgs, passedArgs));
    } else {
      PApplet.main(appletArgs);
    }
  }
}
